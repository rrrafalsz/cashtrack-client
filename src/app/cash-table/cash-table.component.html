<p-table class="table table-responsive-sm" [columns]="cols" [value]="items" id="items-list">
  <ng-template pTemplate="header" let-columns>
    <tr>
      <th scope="col" *ngFor="let col of cols">
        {{col.header}}
      </th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-rowData let-columns="columns">
    <tr>
      <!-- date -->
      <!-- TODO: custom date format -->
      <td>
        {{rowData.date.toLocaleDateString()}}
        {{rowData.date.toLocaleTimeString()}}
      </td>
      <!-- TODO: ERROR: cannot edit date because of format issue -->
      <!--<td pEditableColumn>
        <p-cellEditor>
          <ng-template pTemplate="input">
            <input type="datetime-local" [(ngModel)]="rowData.date">
          </ng-template>
          <ng-template pTemplate="output">
            {{rowData.date.toLocaleDateString()}}
            &lt;!&ndash;{{rowData.date.toLocaleDateString('en-GB', dateOptions)}}&ndash;&gt;
            {{rowData.date.toLocaleTimeString()}}
          </ng-template>
        </p-cellEditor>
      </td>-->

      <!-- amount -->
      <!-- TODO: get currency symbol instead of code -->
      <!-- TODO: maybe combining amount and currency should be done in the component -->
      <td pEditableColumn>
        <p-cellEditor>
          <ng-template pTemplate="input">
            <input type="number" [(ngModel)]="rowData.amount">
          </ng-template>
          <ng-template pTemplate="output">
            {{rowData.amount.toFixed(2)}}
          </ng-template>
        </p-cellEditor>
        <p-cellEditor>
          <ng-template pTemplate="input">
            <select [(ngModel)]="rowData.currency">
              <option *ngFor="let currency of currencies">{{currency.symbol}}</option>
            </select>
          </ng-template>
          <ng-template pTemplate="output">
            {{rowData.currency}}
          </ng-template>
        </p-cellEditor>
      </td>

      <!-- content -->
      <td pEditableColumn>
        <p-cellEditor>
          <ng-template pTemplate="input">
            <input type="text" [(ngModel)]="rowData.content">
          </ng-template>
          <ng-template pTemplate="output">
            {{rowData.content}}
          </ng-template>
        </p-cellEditor>
      </td>

      <!-- category -->
      <td pEditableColumn>
        <p-cellEditor>
          <ng-template pTemplate="input">
            <input type="text" [(ngModel)]="rowData.category">
          </ng-template>
          <ng-template pTemplate="output">
            {{rowData.category}}
          </ng-template>
        </p-cellEditor>
      </td>

      <!-- payment account -->
      <td pEditableColumn>
        <p-cellEditor>
          <ng-template pTemplate="input">

            <select [(ngModel)]="rowData.account">
              <option *ngFor="let account of accounts">{{account.name}}</option>
            </select>
          </ng-template>
          <ng-template pTemplate="output">
            {{rowData.account}}
          </ng-template>
        </p-cellEditor>
      </td>
    </tr>
  </ng-template>
</p-table>

